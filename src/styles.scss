@use '@angular/material' as mat;
@use 'flag-icons/sass/variables' as flag with (
  $flag-icons-path: '/assets/flags'
);
@use 'flag-icons/sass/flag-icons';

@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:wght@300;400;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@300;400;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

// Include theming for Angular Material with `mat.theme()`.
// This Sass mixin will define CSS variables that are used for styling Angular Material
// components according to the Material 3 design spec.
// Learn more about theming and how to use it for your application's
// custom components at https://material.angular.dev/guide/theming

/* apply smooth transition between modes */
* {
  transition: background-color 0.3s ease, color 0.3s ease;
}
:root {
  /* === Font Sizes === */
  --font-xs: clamp(0.7rem, 1vw + 0.5vh, 0.85rem);
  --font-sm: clamp(0.85rem, 1.3vw + 0.6vh, 1rem);
  --font-md: clamp(1rem, 1.6vw + 0.8vh, 1.2rem);
  --font-lg: clamp(1.15rem, 2vw + 1vh, 1.5rem);
  --font-xl: clamp(1.3rem, 2.4vw + 1.2vh, 1.8rem);

  /* === Heights === */
  --input-height: clamp(2.25rem, 2.5vh + 1vw, 4rem);
  --button-height: var(--input-height);
  --social-height: clamp(2.25rem, 2.5vh + 1vw, 3.5rem);

  /* === Spacing === */
  --space-xs: clamp(0.25rem, 0.5vh + 0.2vw, 0.5rem);
  --space-sm: clamp(0.5rem, 0.8vh + 0.4vw, 0.75rem);
  --space-md: clamp(0.75rem, 1.5vh + 0.5vw, 1.25rem);
  --space-lg: clamp(1rem, 2.5vh + 1vw, 2rem);
  --space-xl: clamp(1.5rem, 3.5vh + 1.2vw, 3rem);

  /* === Components === */
  --border-radius: clamp(0.375rem, 0.5vh + 0.2vw, 0.75rem);
  --transition-base: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

  // General Styles
  --app-font-family: 'Libre Franklin', sans-serif;
  --app-font-alt: 'Libre Franklin', sans-serif;
  --primary-clr: #005db5;
  --accent-clr: #ffca19;
  --bg-clr: #fafafa;
  --text-clr: #121212;
  --text-mute-clr: #616161;
  --text-light-clr: #f1f1f1;
}

html {
  /* Make flag-icons use the copied assets path */
  --fi-path: '/assets/flags';
  @include mat.theme(
    (
      color: (
        primary: mat.$azure-palette,
        tertiary: mat.$blue-palette,
      ),
      typography: Roboto,
      density: 0,
    )
  );
}

.font-libre-franklin {
  font-family: var(--app-font-alt);
}

html,
body {
  font-family: var(--app-font-family) !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  @apply text-[#121212];
  margin: 0;
}

// .mat-typography,
// .mat-button,
// .mat-card,
// .mat-form-field,
// .mat-label,
// .mat-input-element,
// .mat-tab-label,
// .mat-list-item,
// .mat-anchor,
// button,
// input,
// textarea,
// select {
//   font-family: var(--app-font-family) !important;
// }

// Remove the default password reveal button
/* Hide in Edge / IE */
input[type='password']::-ms-reveal,
input[type='password']::-ms-clear {
  display: none;
}

/* Hide in Chrome, Safari, and most WebKit browsers */
input[type='password']::-webkit-credentials-auto-fill-button,
input[type='password']::-webkit-clear-button,
input[type='password']::-webkit-reveal {
  display: none;
}

/* Optional: just to be safe */
input[type='password']::-webkit-inner-spin-button,
input[type='password']::-webkit-outer-spin-button {
  display: none;
}

/* Remove Chrome/Edge autofill yellow/blue background */
@layer base {
  /* WebKit browsers (Chrome, Edge, Safari, Opera, Brave) */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  textarea:-webkit-autofill,
  textarea:-webkit-autofill:hover,
  textarea:-webkit-autofill:focus,
  select:-webkit-autofill,
  select:-webkit-autofill:hover,
  select:-webkit-autofill:focus {
    -webkit-box-shadow: 0 0 0px 1000px theme('colors.light-input') inset !important;
    -webkit-text-fill-color: theme('colors.light-text') !important;
    transition: background-color 9999s ease-in-out 0s !important;
  }

  /* Dark mode override */
  .dark input:-webkit-autofill,
  .dark input:-webkit-autofill:hover,
  .dark input:-webkit-autofill:focus,
  .dark textarea:-webkit-autofill,
  .dark textarea:-webkit-autofill:hover,
  .dark textarea:-webkit-autofill:focus,
  .dark select:-webkit-autofill,
  .dark select:-webkit-autofill:hover,
  .dark select:-webkit-autofill:focus {
    -webkit-box-shadow: 0 0 0px 1000px theme('colors.dark-bg') inset !important;
    -webkit-text-fill-color: theme('colors.dark-text') !important;
  }

  /* Firefox (uses its own rules for autofill, here we just enforce colors) */
  input:-moz-autofill,
  textarea:-moz-autofill,
  select:-moz-autofill {
    box-shadow: 0 0 0px 1000px theme('colors.light-input') inset !important;
    -moz-text-fill-color: theme('colors.light-text') !important;
  }

  .dark input:-moz-autofill,
  .dark textarea:-moz-autofill,
  .dark select:-moz-autofill {
    box-shadow: 0 0 0px 1000px theme('colors.dark-bg') inset !important;
    -moz-text-fill-color: theme('colors.dark-text') !important;
  }
}

// General Styles Abdelawal
.orange-bg-clr {
  background-color: var(--accent-clr) !important;
}

.white-bg-clr {
  background-color: var(--text-light-clr) !important;
}

.primary-bg-clr {
  background-color: var(--primary-clr) !important;
}

/* === Height-based Breakpoints === */
@media (max-width: 640px) {
  :root {
    --input-height: 2rem;
    --font-md: 0.9rem;
    --space-md: 0.5rem;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  :root {
    --input-height: 2.75rem;
    --font-md: 1rem;
    --space-md: 0.75rem;
  }
}

@media (min-width: 1025px) {
  :root {
    --input-height: 2.6rem;
    --font-md: 1rem;
    --space-md: 1.5rem;
  }
}
