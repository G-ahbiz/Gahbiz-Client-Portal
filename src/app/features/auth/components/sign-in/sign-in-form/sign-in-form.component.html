<div class="min-h-screen relative">
  <!-- Main background using login-form-bg.png -->
  <div
    class="absolute inset-0 bg-cover bg-center bg-no-repeat dark:bg-gray-900"
    style="background-image: url('assets/images/login-form-bg.png')"
  ></div>

  <div
    class="relative z-10 w-full grid grid-cols-1 md:grid-cols-2 items-center justify-center card-animation min-h-screen"
  >
    <!-- Left Side - Form -->
    <div
      class="p-6 max-w-lg mx-auto flex flex-col justify-center bg-white dark:bg-gray-800 rounded-lg shadow-md"
    >
      <!-- Logo + header -->
      <div class="text-center mb-6">
        <img src="/assets/images/logo.png" alt="Gahbiz Logo" class="mx-auto mb-4 w-40" />
        <h1
          class="text-[36px] font-semibold leading-[100%] tracking-[1.08px] text-[#121212] dark:text-white text-center"
        >
          {{ 'AUTH.WELCOME_BACK' | translate }}
        </h1>
        <p
          class="w-[291px] text-[16px] font-normal leading-[100%] text-center text-black dark:text-gray-300 mx-auto mt-2"
        >
          {{ 'AUTH.DONT_HAVE_ACCOUNT' | translate }}
          <a
            routerLink="/sign-up"
            class="text-[#005DB5] dark:text-blue-400 underline decoration-solid underline-offset-auto font-medium"
          >
            {{ 'AUTH.SIGN_UP_NOW' | translate }}
          </a>
        </p>
      </div>

      <!-- Error Message -->
      @if (errorMessage()) {
      <div
        class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4 mb-6"
      >
        <div class="flex">
          <div class="flex-shrink-0">
            <mat-icon class="h-5 w-5 text-red-400">error</mat-icon>
          </div>
          <div class="ml-3">
            <p class="text-sm text-red-800 dark:text-red-200">{{ errorMessage() }}</p>
          </div>
          <div class="ml-auto pl-3">
            <div class="-mx-1.5 -my-1.5">
              <button
                (click)="clearError()"
                class="inline-flex bg-red-50 dark:bg-red-900/30 rounded-md p-1.5 text-red-500 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50"
              >
                <span class="sr-only">Dismiss</span>
                <mat-icon class="h-5 w-5">close</mat-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
      }

      <!-- Form -->
      <form
        [formGroup]="loginForm"
        (ngSubmit)="onSubmit()"
        class="w-full flex flex-col items-start gap-6"
      >
        <!-- Email -->
        <div class="w-full flex flex-col items-start gap-3">
          <label
            for="email"
            class="text-[16px] font-medium leading-[100%] tracking-[0.48px] text-[#121212] dark:text-white"
          >
            {{ 'AUTH.EMAIL_ADDRESS' | translate }}
          </label>
          <div
            class="w-full flex items-center border rounded-lg px-[21px] py-[15px] gap-2.5 bg-white dark:bg-gray-700"
            [class.border-red-500]="getFieldError('identifier')"
            [class.border-[#D0D0D0]]="!getFieldError('identifier')"
            [class.dark:border-gray-600]="!getFieldError('identifier')"
          >
            <input
              id="email"
              type="email"
              formControlName="identifier"
              [placeholder]="'AUTH.ENTER_EMAIL' | translate"
              class="flex-1 text-[14px] font-medium leading-[100%] text-[#121212] dark:text-white placeholder:text-[#B0B0B0] dark:placeholder:text-gray-400 bg-transparent border-none outline-none"
              [disabled]="isLoading()"
            />
          </div>
          @if (getFieldError('identifier')) {
          <div class="text-red-500 dark:text-red-400 text-sm mt-1">
            <span>{{ getFieldError('identifier') }}</span>
          </div>
          }
        </div>

        <!-- Password -->
        <div class="w-full flex flex-col items-start gap-3">
          <label
            for="password"
            class="text-[16px] font-medium leading-[100%] tracking-[0.48px] text-[#121212] dark:text-white"
          >
            {{ 'AUTH.PASSWORD' | translate }}
          </label>
          <div
            class="w-full flex items-center border rounded-lg px-[21px] py-[15px] gap-2.5 relative bg-white dark:bg-gray-700"
            [class.border-red-500]="getFieldError('password')"
            [class.border-[#D0D0D0]]="!getFieldError('password')"
            [class.dark:border-gray-600]="!getFieldError('password')"
          >
            <input
              id="password"
              [type]="showPassword() ? 'text' : 'password'"
              formControlName="password"
              [placeholder]="'AUTH.ENTER_PASSWORD' | translate"
              class="flex-1 text-[14px] font-medium leading-[100%] text-[#121212] dark:text-white placeholder:text-[#B0B0B0] dark:placeholder:text-gray-400 bg-transparent border-none outline-none pr-8"
              [disabled]="isLoading()"
            />
            <button
              type="button"
              aria-label="Toggle password visibility"
              (click)="toggleShowPassword()"
              class="absolute right-[19px] top-1/2 transform -translate-y-1/2"
              [disabled]="isLoading()"
            >
              @if (showPassword()) {
              <mat-icon class="text-[#616161] dark:text-gray-400">visibility</mat-icon>
              } @else {
              <mat-icon class="text-[#616161] dark:text-gray-400">visibility_off</mat-icon>
              }
            </button>
          </div>
          @if (getFieldError('password')) {
          <div class="text-red-500 dark:text-red-400 text-sm mt-1">
            <span>{{ getFieldError('password') }}</span>
          </div>
          }
        </div>

        <!-- Login button -->
        <div class="w-full flex flex-col justify-center items-center gap-4 mt-1">
          <button
            type="submit"
            class="w-full flex justify-center items-center gap-2.5 px-7 py-4 rounded-lg bg-[#005DB5] dark:bg-blue-600 text-white text-[20px] font-medium hover:bg-[#004A94] dark:hover:bg-blue-700 transition-colors disabled:opacity-60"
            [disabled]="loginForm.invalid || isLoading()"
          >
            @if (isLoading()) {
            <mat-icon class="animate-spin -ml-1 mr-3 h-5 w-5 text-white">refresh</mat-icon>
            {{ 'AUTH.SIGNING_IN' | translate }} } @else { {{ 'AUTH.LOGIN' | translate }} }
          </button>

          <a
            [routerLink]="['/auth/forgot-password']"
            class="text-[14px] font-normal leading-[100%] text-[#005DB5] dark:text-blue-400 underline text-center"
          >
            {{ 'AUTH.FORGOT_PASSWORD' | translate }}
          </a>
        </div>

        <!-- Divider + social -->
        <div class="w-full flex flex-col items-center gap-4 mt-2">
          <div class="w-full flex items-center gap-6">
            <div class="flex-1 h-[0.7px] bg-[#D0D0D0] dark:bg-gray-600"></div>
            <span
              class="text-[16px] font-normal leading-[100%] text-[#616161] dark:text-gray-400"
              >{{ 'COMMON.OR' | translate }}</span
            >
            <div class="flex-1 h-[0.7px] bg-[#D0D0D0] dark:bg-gray-600"></div>
          </div>

          <div class="w-full flex flex-col sm:flex-row sm:justify-between gap-4 sm:gap-5">
            <!-- Google -->
            <button
              type="button"
              class="w-full sm:w-[500px] h-14 flex items-center justify-between gap-3 px-[38px] py-[14px] border border-[#D0D0D0] dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors bg-white dark:bg-gray-800"
              [disabled]="isLoading()"
            >
              <img src="/assets/images/google.png" alt="Google" class="w-6 h-6" />
              <span class="text-[16px] font-medium leading-[100%] text-[#3A3A3A] dark:text-white">{{
                'AUTH.LOGIN_WITH_GOOGLE' | translate
              }}</span>
            </button>

            <!-- Facebook -->
            <button
              type="button"
              class="w-full sm:w-[500px] h-14 flex items-center justify-center gap-3 px-7 py-[14px] border border-[#D0D0D0] dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors bg-white dark:bg-gray-800"
              [disabled]="isLoading()"
            >
              <mat-icon class="flex-shrink-0 text-[#1877F2]">facebook</mat-icon>
              <span class="text-[16px] font-medium leading-[100%] text-[#3A3A3A] dark:text-white">{{
                'AUTH.LOGIN_WITH_FACEBOOK' | translate
              }}</span>
            </button>
          </div>
        </div>
      </form>
    </div>
    <!-- Right Side -->
    <div class="hidden md:flex items-center justify-center">
      <img
        src="assets/images/login-bg.png"
        alt="Login Background"
        class="w-full h-screen object-cover"
      />
    </div>
  </div>
</div>
