<div class="bg-[#005DB5] dark:bg-gray-900 min-h-screen flex items-center justify-center p-4">
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 max-w-md w-full">
    <h1 class="text-2xl font-bold text-center text-gray-800 dark:text-white mb-6">
      {{ 'AUTH.PASSWORD_RESET' | translate }}
    </h1>

    <form [formGroup]="newPasswordForm" (ngSubmit)="onSubmit()">
      <div class="w-full flex flex-col items-start gap-3 mb-6">
        <label
          for="newPassword"
          class="text-[16px] font-medium leading-[100%] tracking-[0.48px] text-[#121212] dark:text-white"
        >
          {{ 'AUTH.PASSWORD' | translate }}
        </label>
        <div
          class="w-full flex items-center border rounded-lg px-[21px] py-[15px] gap-2.5 relative bg-white dark:bg-gray-700"
          [class.border-red-500]="getFieldError('newPassword')"
          [class.border-[#D0D0D0]]="!getFieldError('newPassword')"
          [class.dark:border-gray-600]="!getFieldError('newPassword')"
        >
          <input
            id="newPassword"
            [type]="showPassword() ? 'text' : 'password'"
            formControlName="newPassword"
            [placeholder]="'AUTH.ENTER_NEW_PASSWORD' | translate"
            class="flex-1 text-[14px] font-medium leading-[100%] text-[#121212] dark:text-white placeholder:text-[#B0B0B0] dark:placeholder:text-gray-400 bg-transparent border-none outline-none pr-8"
            [disabled]="isLoading()"
          />
          <button
            type="button"
            aria-label="Toggle password visibility"
            (click)="toggleShowPassword()"
            class="absolute right-[19px] top-1/2 transform -translate-y-1/2"
            [disabled]="isLoading()"
          >
            @if (showPassword()) {
            <mat-icon class="text-gray-600 dark:text-gray-400">visibility</mat-icon>
            } @else {
            <mat-icon class="text-gray-600 dark:text-gray-400">visibility_off</mat-icon>
            }
          </button>
        </div>
        @if (getFieldError('newPassword')) {
        <div class="text-red-500 dark:text-red-400 text-sm -mt-2">
          <span>{{ getFieldError('newPassword') }}</span>
        </div>
        }
      </div>

      <div class="w-full flex flex-col items-start gap-3 mb-8">
        <label
          for="confirmPassword"
          class="text-[16px] font-medium leading-[100%] tracking-[0.48px] text-[#121212] dark:text-white"
        >
          {{ 'AUTH.CONFIRM_PASSWORD' | translate }}
        </label>
        <div
          class="w-full flex items-center border rounded-lg px-[21px] py-[15px] gap-2.5 relative bg-white dark:bg-gray-700"
          [class.border-red-500]="getFieldError('confirmPassword')"
          [class.border-[#D0D0D0]]="!getFieldError('confirmPassword')"
          [class.dark:border-gray-600]="!getFieldError('confirmPassword')"
        >
          <input
            id="confirmPassword"
            [type]="showConfirmPassword() ? 'text' : 'password'"
            formControlName="confirmPassword"
            [placeholder]="'AUTH.CONFIRM_NEW_PASSWORD' | translate"
            class="flex-1 text-[14px] font-medium leading-[100%] text-[#121212] dark:text-white placeholder:text-[#B0B0B0] dark:placeholder:text-gray-400 bg-transparent border-none outline-none pr-8"
            [disabled]="isLoading()"
          />
          <button
            type="button"
            aria-label="Toggle password visibility"
            (click)="toggleShowConfirmPassword()"
            class="absolute right-[19px] top-1/2 transform -translate-y-1/2"
            [disabled]="isLoading()"
          >
            @if (showConfirmPassword()) {
            <mat-icon class="text-gray-600 dark:text-gray-400">visibility</mat-icon>
            } @else {
            <mat-icon class="text-gray-600 dark:text-gray-400">visibility_off</mat-icon>
            }
          </button>
        </div>
        @if (getFieldError('confirmPassword')) {
        <div class="text-red-500 dark:text-red-400 text-sm -mt-2">
          <span>{{ getFieldError('confirmPassword') }}</span>
        </div>
        }
      </div>

      <app-button
        [label]="'AUTH.CONTINUE' | translate"
        [disabled]="newPasswordForm.invalid || isLoading()"
        [loading]="isLoading()"
        [loadingText]="'AUTH.RESETTING_PASSWORD_LOADING' | translate"
      >
      </app-button>
    </form>

    <div class="text-center pt-4 space-y-2">
      <button
        type="button"
        (click)="onGoBack()"
        class="text-blue-600 dark:text-blue-400 hover:underline mr-4"
      >
        ‚Üê {{ 'AUTH.BACK_TO_OTP' | translate }}
      </button>
      <a [routerLink]="['/auth/sign-in']" class="text-blue-600 dark:text-blue-400 hover:underline">
        {{ 'AUTH.BACK_TO_LOGIN' | translate }}</a
      >
    </div>
  </div>
</div>
