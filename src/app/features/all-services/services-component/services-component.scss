// Base card styles
.service-card {
  width: 100%;
  border: 1px solid #e0e0e0;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  padding: 1.75rem 1.5rem; // Using consistent padding instead of px-7 py-9

  @media screen and (min-width: 992px) {
    width: calc(50% - 0.75rem);
  }

  // RTL specific styles for card
  &.rtl-card {
    direction: rtl;

    @media screen and (min-width: 576px) {
      .card-body {
        padding-right: 1rem;
        padding-left: 0;
      }
    }
  }
}

.image-container {
  width: 100%;
  height: 13.4375rem;
  flex-shrink: 0;
  border-radius: 1rem !important;

  > img {
    object-fit: cover;
    border-radius: 1rem;
  }

  @media screen and (min-width: 576px) {
    width: 35%; // Slightly wider for better balance in RTL
    height: auto;
    min-height: 200px;
  }
}

.card-body {
  width: 100%;
  padding-top: 0.75rem;

  @media screen and (min-width: 576px) {
    width: 65%;
    padding-left: 1rem;
    padding-top: 0;
  }

  .service-card-title-subtitle {
    p {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    // RTL text alignment
    .rtl-text {
      text-align: right;
      direction: rtl;
    }
  }
}

// RTL specific styles
:host-context([dir='rtl']) {
  .service-card {
    direction: rtl;

    @media screen and (min-width: 576px) {
      .card-body {
        padding-right: 1rem;
        padding-left: 0;
      }
    }
  }

  .service-title.rtl-layout {
    direction: rtl;
    text-align: right;

    h1 {
      text-align: right;
    }
  }

  .rtl-price-rating {
    direction: rtl;

    .rating-container {
      margin-left: 0;
      margin-right: auto;
    }
  }

  .rtl-buttons {
    direction: rtl;

    @media screen and (min-width: 768px) {
      flex-direction: row-reverse;
    }
  }
}

// Global RTL styles for Arabic
[dir='rtl'] {
  .service-card {
    text-align: right;

    .card-body {
      @media screen and (min-width: 576px) {
        padding-right: 1rem;
        padding-left: 0;
      }
    }

    .service-card-title-subtitle {
      text-align: right;
    }

    .button-container {
      @media screen and (min-width: 768px) {
        flex-direction: row-reverse;
      }
    }

    .rating-container {
      margin-left: 0;
      margin-right: auto;
    }
  }

  .service-title {
    text-align: right;

    h1 {
      text-align: right;
    }
  }
}

.button-container {
  .btn {
    width: 100%;
  }

  .btn-primary {
    background-color: var(--primary-clr);
    border-color: var(--primary-clr);
    color: var(--text-light-clr, #fff);

    &:hover {
      background-color: var(--primary-clr-hover, var(--primary-clr));
      border-color: var(--primary-clr-hover, var(--primary-clr));
    }
  }

  .btn-outline-primary {
    color: var(--primary-clr);
    border-color: var(--primary-clr);

    &:hover {
      background-color: var(--primary-clr);
      color: var(--text-light-clr, #fff);
    }
  }

  @media screen and (min-width: 768px) {
    .btn {
      width: auto;
      min-width: 140px; // Ensure consistent button width in both LTR and RTL
    }
  }
}

.image-overlay {
  padding: 0.5rem 1rem;
  width: 90%;
  border-radius: 3.125rem;
  bottom: 0.5rem;
  inset-inline-start: 5%; // Use logical property for RTL support

  [dir='rtl'] & {
    left: auto;
    right: 5%;
  }
}

// Pagination styles with RTL support
.page-link {
  color: var(--primary-clr);
  border-bottom: 2px solid var(--primary-clr);
  padding: 0.25rem 0.5rem;
}

.arrow-item {
  border: 1px solid var(--accent-clr);

  [dir='rtl'] & {
    transform: rotate(180deg); // Flip arrow direction for RTL
  }
}

.arrow-item.disabled {
  border: 1px solid #ffca1980;
  color: #ffca1980 !important;
  cursor: not-allowed;

  > i {
    color: #ffca1980 !important;
  }
}

.page-item.disabled > .page-link {
  color: #b8b8b8;
  border-bottom: none;
}

.page-item.active > .page-link {
  font-weight: bold;
}

// Service tag styles
.service-tag {
  padding: 0.5rem 1.25rem;
  font-size: 0.85rem;
  font-weight: 600;
  color: #fff;
  text-transform: capitalize;
  z-index: 10;
  text-align: center;
  background-color: #6c757d; // A neutral grey

  &.basic {
    background-color: rgba(18, 18, 18, 0.9); // Dark grey
  }

  &.standard {
    background-color: rgba(197, 0, 0, 0.9); // Red
  }

  &.gold {
    background-color: rgba(199, 180, 0, 0.9); // Gold
  }

  &.silver {
    background-color: rgba(114, 114, 114, 0.9); // Silver
  }
}

.orignal-price {
  color: #d0d0d0 !important;
}

.service-title {
  justify-content: flex-start !important;

  [dir='rtl'] & {
    justify-content: flex-end !important;
  }

  h1 {
    width: 100% !important;
    text-align: left;

    [dir='rtl'] & {
      text-align: right;
    }
  }
}

// Override Bootstrap's justify-content-md-between when no pagination
.service-title:not(:has(nav)) {
  justify-content: flex-start !important;

  [dir='rtl'] & {
    justify-content: flex-end !important;
  }
}

// Additional RTL spacing improvements
[dir='rtl'] {
  .service-list-container {
    .service-card {
      .card-body {
        .service-card-title-subtitle {
          margin-left: 0;
          margin-right: auto;
        }
      }
    }
  }

  // Improve gap and spacing in RTL
  .services-list {
    .service-title {
      gap: 1rem;
    }
  }

  // Better button spacing in RTL
  .button-container {
    gap: 0.75rem;

    @media screen and (max-width: 767.98px) {
      .btn {
        margin-left: 0;
        margin-right: 0;
      }
    }
  }
}

// Mobile RTL optimizations
@media screen and (max-width: 575.98px) {
  [dir='rtl'] {
    .service-card {
      padding: 1rem;

      .image-container {
        margin-bottom: 1rem;
      }
    }
  }
}
